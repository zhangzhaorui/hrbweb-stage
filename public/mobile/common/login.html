<style>
	#signs{
		/*background-color: #29abe2;*/
		background-image: linear-gradient(to bottom, #337ab7 0%, #265a88 100%);
		border: 0 none;
	}
	#signs:focus{
		background-image: linear-gradient(to bottom, #265a88 0%, #265a88 100%);
	}
	#signs:hover{
		/*background-color: #1998ce;*/
		background-image: linear-gradient(to bottom, #265a88 0%, #265a88 100%);
	}
	#signs2{
		/*background-color: #29abe2;*/
		background-image: linear-gradient(to bottom, #337ab7 0%, #265a88 100%);
		border: 0 none;
	}
	#signs2:focus{
		background-image: linear-gradient(to bottom, #265a88 0%, #265a88 100%);
	}
	#signs2:hover{
		/*background-color: #1998ce;*/
		background-image: linear-gradient(to bottom, #265a88 0%, #265a88 100%);
	}
	#click:hover{
		cursor: pointer;
	}
	#exampleInputEmail1{
	width:360px;
	height:40px;
	border-radius:5px;
	font-size:14px;
	margin-bottom: 30px;
	}
	#exampleInputPassword1{
	width:360px;
	height:40px;
	border-radius:5px;
	font-size:14px;
	}
	.back_icon{
	background-image:url("/images/icon.png");
	background-position:10% 10%;
	background-repeat:repeat;
	display:inline-block;
	width:18px;
	height:18px;
	margin-bottom:-4px;
	margin-right:10px;
	}
	
	#nvitationLogin{
		color: #43609f;
	}
	
	#nvitationLogin:hover{
		color: #395289;
		text-decoration: underline;
	}
	
	.shens{
		margin-left:10px;
		margin-top:-5px;
		cursor: pointer;
	}
	
</style>
<!-- 登陆框开始 -->
     <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" ID="origin">
            <div class="modal-content" style="padding:30px;width:422px;height:416px;">
                <div class="modal-header" style="border-bottom:0px;padding: 0px; ">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel1">登录</h4>
                </div>
                <div class="modal-body" style="padding: 0px;" >
                	<div style="height: 65px; padding-bottom: 5px; padding-top: 15px;">
					<p id="messageModal" style="color:#ea0c1d;font-size:14px;display:none;"><span class="back_icon"></span>账户名与密码不匹配，请重新输入</p>
					<p id="messageModa2" style="color:#ea0c1d;font-size:14px;display:none;"><span class="back_icon"></span>邮箱格式不正确</p>
					<p id="messageModa3" style="color:#ea0c1d;font-size:14px;display:none;"><span class="back_icon"></span>服务器内部错误</p>
					<p id="messageModa4" style="color:#ea0c1d;font-size:14px;display:none;"><span class="back_icon"></span></p>
					</div>
					  <div class="form-group">
					    <input type="email" name="email" value="" class="form-control" id="exampleInputEmail1" placeholder="邮箱" >
					  </div>
					  <div class="form-group">
					    <input type="password" name="password" value="" class="form-control" id="exampleInputPassword1" placeholder="密码" >
					  </div>
					  <div class="checkbox" style="margin:30px 0px 30px 0px;">
					    <label>
					      <input type="checkbox"> 记住我
					    </label>
					    <span ID="click"style="float:right; color: #43609f;" data-dismiss="modal">忘记密码</span>
					  </div>
					  <button id='signs' class="btn btn-primary" style='width:360px;height:40px;'>登录</button>     
					  <div style="margin-top: 20px;margin-bottom: 40px;">
					  		<!--<p class="text-center" style="font-size: 16px;">还没有账号？<a id="nvitationLogin" href="reg.html">马上注册</a></p>-->
						  <p class="text-center" style="font-size: 16px;">还没有账号？申请成为会员
						  	<!-- 
						  	<a id="nvitationLogin" href="registration.html">邀请注册</a>
						  	 -->
						  	<a href="mailto:datahub@asiainfo.com?subject=申请成为Datahub会员">
						  		<img title="申请注册" class="shens"  />
						  	</a>
						  </p>
					  </div>
                </div>
                <!-- 
                <div class="modal-footer" style="border-top:0px;">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
                 -->
            </div>
        </div>
    </div>
    <!-- 登录框结束 -->
    <!--forget pwd-->
    <div class="modal fade" id="fine" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2" aria-hidden="true">
        <div class="modal-dialog" ID="forget">
            <div class="modal-content" ID="forget_pw" style="padding:30px;width:422px;height:280px; ">
                <div class="modal-header" style="border-bottom:0px;padding: 0px; ">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel3">忘记密码</h4>
                </div>
                <div class="modal-body" style="padding: 0px;" >
                	<div style="height: 65px; padding-bottom: 5px; padding-top: 15px;">
					<p id="message" style="color:#ea0c1d;font-size:14px;display:none;"><span class="back_icon"></span>邮箱不能为空</p>
					<p id="message2" style="color:#ea0c1d;font-size:14px;display:none;"><span class="back_icon"></span>邮箱格式不正确</p>
					<p id="message3" style="color:#ea0c1d;font-size:14px;display:none;"><span class="back_icon"></span>服务器内部错误</p>
					</div>
					  <div class="form-group">
					    <input type="email" name="email" value="" class="form-control" id="exampleInputEmail2" placeholder="邮箱" maxlength="32">
					  </div>
					  <button id='signs2' class="btn btn-primary" style='width:360px;height:40px;'>发送密码重置邮件</button>     
					  <div style="margin-top: 20px;margin-bottom: 40px;">
					  		<p class="text-center" style="font-size: 16px;">还没有账号？申请成为会员
					  			<!-- <a id="nvitationLogin" href="registration.html">邀请注册</a> -->
					  			<a href="mailto:datahub@asiainfo.com?subject=申请成为Datahub会员">
						  			<img title="申请注册" class="shens"  />
						  		</a>
					  		</p>
					  </div>                       
                </div>   
            </div>
        </div>
    </div>
    <div class="modal fade" id="already_sent" tabindex="-1" role="dialog" aria-labelledby="myModalLabel4" aria-hidden="true" >
        <div class="modal-dialog">
            <div class="modal-content" ID="forgot_pw" style="padding:30px;width:422px;height:216px; ">
                <div class="modal-header" style="border-bottom:0px;padding: 0px; ">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel5">重置密码</h4>
                </div>
                <div class="modal-body" style="padding: 0px;" >
                	<div style="height: 65px; padding-bottom: 5px; padding-top: 15px;">
					<p id="message" style="color:#ea0c1d;font-size:14px; margin-bottom:20px; margin-left:40px;">请24小时内登陆注册邮箱点击链接重置密码</p> 
					</div> 
				<button id='signs4' class="btn btn-primary" style='width:360px;height:40px;'>返回登陆</button>                        
                </div>   
            </div>
        </div>
    </div>
    <script>
    	$(function(){
    		 $(".shens").attr("src","images/images02_158.png");
    		$(document).on("mouseenter mouseleave",'.shens',function(event){ 
				 if(event.type == "mouseenter"){
					 $(".shens").attr("src","images/images02_160.png");
			     }
				 if(event.type == "mouseleave"){
					 $(".shens").attr("src","images/images02_158.png");
			     }
			  });
    	});
    </script>
<script>
	 $(function () {
	// 	$('#myModal').on('hide.bs.modal', function () {
	// 		$("#Modal").modal("show");
	// 	});
	// });
	$("#signs2").click(function(){
		//check the email input correct	
		var reg = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
		//$("#exampleInputEmail2").blur(function(){
			var b=true;
			if (($("#exampleInputEmail2").val())==""){
				$("#message").css("display","block");
				$("#message").fadeOut(4000);
				$("#message2").css("display","none");
				$("#message3").css("display","none");
				b=false;
				// $('#Modal').modal('show')
				// $('#myModal').modal('hide');
				//$('#already_sent').modal('hide');
			}else{
            	if (!reg.test($("#exampleInputEmail2").val())){
            		$("#message2").css("display","block");	
            		$("#message2").fadeOut(4000);
            		$("#message").css("display","none");
					$("#message3").css("display","none");
					b=false
					// $('#Modal').modal('show')
					// $('#myModal').modal('hide');
					// $('#already_sent').modal('hide');
				}
			}	
			if(b){
				var loginname = $("#exampleInputEmail2").val();
					
			$.ajax({
            		//sending email 
            		url: ngUrl+"/users/"+loginname+"/forget/pwd",
            		type: "PUT",
            		contentType:"application/json",
            		cache:false,
            		//data:{"code":"","msg":""},
            		async:false,
            		dataType:'json',
            		success:function(json){
       					//var ss=loginname;
       					//var start=ss.indexOf("@")+1;
    			// 		var end=start+ss.length;
    			// 		var strtext="http://mail."+ss.substring(start,end);
				 		// $("#info a").text(strtext).attr("href",strtext);
				 		if (json.code==0){
				 			$('#already_sent').modal('show');
            				$('#fine').modal('hide');
				 		}
            		}
            	});	
			}	
		});
	$("#signs4").click(function(){
		$('#already_sent').modal('hide');
        $('#myModal').modal('show');
	});
	
	// $("#click").click(function(){
	// 	alert("33");
 // 		$('#myModal').modal('hide');
 // 		$('#myModal').on('hide.bs.modal', function () {
	//  		$("#Modal").modal("show");
	//  	}); 
 //   	});
  		$("#click").click(function(){
	 		$('#myModal').modal('hide');
	 		$('#fine').modal('show');	
	 	});
	 	
	 	$(".close").click(function(){
	 		$('#myModal').modal('hide');	
	 	});
	 	
	});
 	      